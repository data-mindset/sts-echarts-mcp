runtime: typescript

startCommand:
  type: stdio
  configSchema:
    type: object
    properties:
      MINIO_ENDPOINT:
        type: string
        description: MinIO server endpoint (without protocol)
        default: localhost
      MINIO_PORT:
        type: number
        description: MinIO server port
        default: 9000
      MINIO_USE_SSL:
        type: boolean
        description: Use SSL/HTTPS connection
        default: false
      MINIO_ACCESS_KEY:
        type: string
        description: MinIO access key
      MINIO_SECRET_KEY:
        type: string
        description: MinIO secret key
      MINIO_BUCKET_NAME:
        type: string
        description: Bucket name for storing charts
        default: sts-echarts
    required:
      - MINIO_ACCESS_KEY
      - MINIO_SECRET_KEY
  commandFunction:
    |-
    (config) => ({
      command: 'node',
      args: ['.smithery/index.js'],
      env: {
        MINIO_ENDPOINT: config.MINIO_ENDPOINT || 'localhost',
        MINIO_PORT: String(config.MINIO_PORT ?? 9000),
        MINIO_USE_SSL: String(config.MINIO_USE_SSL ?? false),
        MINIO_ACCESS_KEY: config.MINIO_ACCESS_KEY,
        MINIO_SECRET_KEY: config.MINIO_SECRET_KEY,
        MINIO_BUCKET_NAME: config.MINIO_BUCKET_NAME || 'sts-echarts'
      }
    })
  exampleConfig:
    MINIO_ENDPOINT: localhost
    MINIO_PORT: 9000
    MINIO_USE_SSL: false
    MINIO_ACCESS_KEY: minioadmin
    MINIO_SECRET_KEY: minioadmin
    MINIO_BUCKET_NAME: sts-echarts